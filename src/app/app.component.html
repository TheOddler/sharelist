<div>
	<h1>
		Welcome to Sharelist!
	</h1>

	<div class='login-status'>
		<div *ngIf="afAuth.authState | async; let user; else showLogin">
			<p>Hello {{ user.displayName }}! <button (click)="logout()">Logout</button></p>
		</div>
		<ng-template #showLogin>
				<p>
					Please login to be able to edit (currently only for a select group of trusted users).
					<button (click)="login()">Login with Google</button>
				</p>
		</ng-template>
	</div>

	<div class="lists">
		<mat-card
			class="item"
			[ngClass]="{'selected': selectedListMeta?.id === list.id}"
			*ngFor="let list of listsMeta | async"
			(click)="selectedListMeta = list"
		>
			<strong>{{ list.data.title}}</strong>
			(<a href="javascript:void(0)" (click)="deleteList(list); $event.stopPropagation();">del</a>)		
		</mat-card><!--
	 --><mat-card class='add' *ngIf="listsMeta | async">
			<mat-form-field>
				<input matInput type="text" [(ngModel)]="title" name="title" placeholder="Add a list...">
			</mat-form-field>
			<button mat-mini-fab (click)="addList()">+</button>
		</mat-card>
	</div>

	

	<app-list-detail [listMeta]="selectedListMeta"></app-list-detail>
</div>
